<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<title> COHLIT - Rutgers University </title>
	<link rel="stylesheet" type="text/css" href="main.css"></link>
</head>
<body>

	<script type="text/javascript" src="./js/three.js"></script>
	<script type="text/javascript" src="./js/StereoEffect.js"></script>
	<script type="text/javascript" src="./js/Detector.js"></script>
	<script>
		if( !Detector.webgl) {
			Detector.addGetWebGLMessage();
		}
		else {
			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000);

			var renderer = new THREE.WebGLRenderer();
			renderer.setPixelRatio( window.devicePixelRatio );
			renderer.setSize(window.innerWidth, window.innerHeight);
			document.body.appendChild(renderer.domElement);

			var effect = new THREE.StereoEffect(renderer);
			effect.eyeSeparation = 10;
			effect.setSize(window.innerWidth, window.innerHeight);

			var geometry = new THREE.BoxGeometry(1,1,1);
			var material = new THREE.MeshBasicMaterial({color: 0x00ffaa});
			var cube = new THREE.Mesh(geometry, material);
			scene.add(cube);


			camera.position.z = 5;

			var animate = function() {
				requestAnimationFrame(animate);
				render();
			}

			var render = function() {
				cube.rotation.x += 0.1;
				cube.rotation.y += 0.1;

				
				effect.render(scene, camera);
			}

			animate();
		}
	</script>
</body>
</html>
